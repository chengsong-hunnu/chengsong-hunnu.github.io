<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="计算机网络基础, 晟松">
    <meta name="description" content="晟松的博客">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>计算机网络基础 | 晟松</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 4.2.1"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">晟松</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">晟松</div>
        <div class="logo-desc">
            
            晟松的博客
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/21.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">计算机网络基础</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        height: calc(100vh - 250px);
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                                <span class="chip bg-color">计算机网络</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2020-09-10
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2020-12-18
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    11.2k
                </div>
                

                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>机械工业出版社的大黑书(计算机网络-自顶向下方法)和课程，慕课的一个的总结，主要根据tcp/ip的五层体系结构。介绍一些大概</p>
<p>下面放一些他人的总结，当做补充资料或者细节</p>
<p><a href="https://www.cnblogs.com/zyx110/p/11891335.html" target="_blank" rel="noopener">五层结构简解</a></p>
<p><a href="https://www.jianshu.com/p/ef892323e68f" target="_blank" rel="noopener">tcp协议详解</a></p>
<p><a href="https://blog.csdn.net/baidu_37964071/article/details/80467838?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522160005926919725247451603%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=160005926919725247451603&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~first_rank_ecpm_v3~pc_rank_v4-1-80467838.first_rank_ecpm_v3_pc_rank_v4&utm_term=ip%E5%8D%8F%E8%AE%AE%E8%AF%A6%E8%A7%A3&spm=1018.2118.3001.4187" target="_blank" rel="noopener">IP协议简解</a></p>
<p><a href="https://www.jianshu.com/p/80e25cb1d81a" target="_blank" rel="noopener">HTTP协议详解</a></p>
<p><a href="https://blog.csdn.net/qq_34468186/article/details/82146754" target="_blank" rel="noopener">get/post详解</a></p>
<p><a href="https://blog.csdn.net/x1179194525/article/details/90370685" target="_blank" rel="noopener">本书前六章简解</a></p>
<p><a href="https://blog.csdn.net/qq_40323844/article/details/94488975?utm_medium=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param&depth_1-utm_source=distribute.pc_relevant.none-task-blog-BlogCommendFromMachineLearnPai2-1.channel_param" target="_blank" rel="noopener">本书大致结构梳理</a></p>
<h4 id="1-总览"><a href="#1-总览" class="headerlink" title="1.总览"></a>1.总览</h4><h5 id="1-1-概述"><a href="#1-1-概述" class="headerlink" title="1.1 概述"></a>1.1 概述</h5><p>互联网组成：边缘部分+核心部分。</p>
<p>边缘部分就是各种主机，端系统，用户直接使用。<strong>每个端系统都具有一个唯一的IP地址</strong>，通过ISP与网络相连。</p>
<p>核心部分就是网络，交换机，<strong>路由器</strong>这些，为边缘部分提供服务(连通性和交换)。每台路由器都有一个转发表，用于将目的地址映射为输出链路。</p>
<p>端系统的常见通信方式是<strong>客户服务器方式</strong>，客户和服务器都是指通信中涉及到的两个应用进程。客户和服务器都要使用网络核心部分提供的服务。另一种是<strong>对等方式</strong>，本质上看还是客户服务器方式，只不过通信双方都是客户和服务器。</p>
<p>客户和服务器建立连接之后，通信是双向的，两者都可以接收/发送信息</p>
<p><strong>协议：定义了两个或多个通信实体之间交换的报文的格式和顺序，以及报文发送，接收采取的一系列动作。</strong></p>
<hr>
<p>主机是为用户<strong>进行信息处理</strong>的，并向网络发送分组，或者从网络接收分组。</p>
<p>路由器是实现<strong>分组交换</strong>(packet switching)的关键构件，其任务是对分组进行<strong>存储转发</strong>，最后把分组交付目的主机，这是网络核心部分最重要的功能。</p>
<p><strong>分组交换</strong>：是以分组为单位进行传输和交换的，它是一种存储-转发交换方式。简单地说，就是一个数据报文太长了，超过了传输限制，需要将其分割分组，为每一个分组添加<strong>首部</strong>(包含地址等信息)，进行传输，最后在目的地接收后取出首部，进行拼接得到完整数据。但是有可能<strong>丢包</strong>，因为存储的队列满了，一般通过重发解决。<br><strong>存储转发</strong>：路由器收到一个分组，先暂时存储下来，再<strong>检查其首部，查找转发表</strong>，按照首部中的目的地址，找到合适的接口转发出去。</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913161533494.png" alt="image-20200913161438568" style="zoom:50%;" />

<h5 id="1-2-性能指标"><a href="#1-2-性能指标" class="headerlink" title="1.2 性能指标"></a>1.2 性能指标</h5><p>1.速率：数据的传送速率，单位bit/s等</p>
<p>2.带宽：单位时间内，某信道能通过的“最高数据率”，单位bit/s</p>
<p>3.吞吐量：单位时间内，通过某个网络的数据量</p>
<p>4.<strong>时延</strong>：数据(一个报文或分组)从网络(或链路)的一端到另一端传送所需的时间。通常有</p>
<p>发送时延/传输时延：从发送数据帧的第一个比特到最后一个比特发送完成到链路上所需的时间</p>
<p>传播时延：电磁波在信道中需要一定的时间进行传播</p>
<p>处理时延：主机或路由器在收到分组时，为处理分组（例如分析首部、提取数据、差错检验或查找路由）所花费的时间。</p>
<p>排队时延：分组在路由器输入输出队列中排队等待处理所经历的时间。</p>
<p>总时延为上面相加</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913161503961.png" alt="image-20200913161347953" style="zoom:50%;" />

<p>一个小点：宽带线路和窄带线路上比特的传播速率是一样的。宽带线路:每秒有更多比特从计算机注入到线路。而且宽带不等于并行传输。</p>
<p>5.时延带宽积</p>
<p>6.往返时间RTT</p>
<p>7.利用率：信道利用率和网络利用率</p>
<h5 id="1-3-体系结构"><a href="#1-3-体系结构" class="headerlink" title="1.3 体系结构"></a>1.3 体系结构</h5><img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913161438568.png" alt="" style="zoom: 67%;" />

<p>消息自上向下<strong>逐层封装</strong>，目标系统自下向上逐层拆封，由最高层将消息提供给目标进程。</p>
<p><strong>协议数据单元</strong>(PDU):协议控制信息(称为协议头/首部)+数据。协议头包含地址，序号，长度，分段标志等控制信息</p>
<p><strong>封装</strong>：<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913161414234.png" alt="image-20200913161503961" style="zoom:50%;" /></p>
<p>在计算机网络中数据交换必须准守事先约定的协议。</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913161347953.png" alt="image-20200913161414234" style="zoom: 67%;" />

<p>应用层：网络应用程序及应用层协议存留的地方，包括HTTP.SMTP.FTP协议。分布在多个端系统上。</p>
<p>运输层：在应用程序端点之间传输应用层报文。有两种传输协议，<strong>TCP/UDP</strong>。TCP面向连接服务和可靠数据传输服务，UDP提供无连接服务。</p>
<p>网络层：负责将称为<strong>数据报</strong>的网络层分组从一台主机移到另一台主机，通过TCP/UDP得到报文段和目的地址。协议仅有一个为著名的<strong>IP</strong>协议。</p>
<p>链路层：为了将分组从一个节点(主机或路由器)移到另一个节点，网络层必须需要链路层提供服务。链路层分组称为帧。</p>
<p>物理层：链路层是将整个帧从一个网络元素移动到邻近的网络元素，物理层的任务是将帧中的一个个比特从一个节点移到下一个节点。与双绞铜线，同轴电缆，光纤相关。</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200915205119264.png" alt="image-20200915205119264" style="zoom:57%;" />

<hr>
<h4 id="2-应用层"><a href="#2-应用层" class="headerlink" title="2.应用层"></a>2.应用层</h4><p>规定应用进程在通信是遵守的协议，协议大多基于客户服务器方式。进程通过一个称为<strong>套接字软件接口</strong>向网络发送，接收报文。</p>
<p>可供应用程序使用的运输服务：1.可靠的数据传输  2.定时 3.吞吐量 4.安全</p>
<h5 id="2-1-HTTP"><a href="#2-1-HTTP" class="headerlink" title="2.1 HTTP"></a>2.1 HTTP</h5><p>定义了web客户向web服务器请求web页面的方式，以服务器向客户发送web页面的方式。使用TCP作为他的支撑运输协议。因为HTTP服务器不保存客户的任何信息，所以称HTTP协议是一个<strong>无状态协议</strong>，每一次请求都认为是一个全新的请求。默认是持续连接，也可改成非持续连接。</p>
<p><strong>HTTP报文格式</strong></p>
<p><a href="https://www.jianshu.com/p/6e86903d74f7" target="_blank" rel="noopener">常见响应头字段详解</a></p>
<p><strong>请求报文</strong>：第一行称为请求行，包含方法字段(get/post/put……)、URL字段、HTTP版本字段。后续的行称为首部行。</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913192706036.png" alt="image-20200913192706036" style="zoom:70%;" />

<p>请求数据一般在post存在；get为空，参数直接在URL里存在。</p>
<pre><code>GET /books/?sex=man&amp;name=Professional HTTP/1.1
Host: www.wrox.com
User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)
Gecko/20050225 Firefox/1.0.1
Connection: Keep-Alive</code></pre><p><strong>响应报文</strong>：包括初始状态行(版本，状态码，短语)，6个首部行，一个实体体(数据)。结构与上面相似，只是第一行有变化。</p>
<pre><code>HTTP/1.1 200 OK  //初始状态行
Date: Sat, 31 Dec 2005 23:59:59 GMT
Content-Type: text/html;charset=ISO-8859-1
Content-Length: 122
...
name=Professional%20Ajax&amp;publisher=Wiley    //响应数据</code></pre><p>cookie：客户与服务器的交互，因为HTTP是无状态的，所以需要cookie进行保存会话，免得重新再来全部请求一遍。</p>
<p>web缓存：内容分发网络CDN，减少访问和数据传输的时间</p>
<h5 id="2-2-SMTP"><a href="#2-2-SMTP" class="headerlink" title="2.2 SMTP"></a>2.2 SMTP</h5><p>使用TCP可靠数据传输协议，是一个电子邮件传输协议。用户代理发送信息到用户的邮件服务器，此服务器发送邮件到接收方的邮件服务器，接收方的服务器将邮件放入接收方的邮箱中。</p>
<p>电子邮件组成：用户代理，邮件服务器，协议。</p>
<h5 id="2-3-SMTP与HTTP的对比"><a href="#2-3-SMTP与HTTP的对比" class="headerlink" title="2.3 SMTP与HTTP的对比"></a>2.3 SMTP与HTTP的对比</h5><ol>
<li>HTTP主要是一个<strong>拉协议</strong>，TCP连接由想要接收文件的机器发起。即在使用的时候，某些人在Web服务器上装载信息，用户使用HTTP从该服务器上拉取这些信息。</li>
<li>SMTP基本上是一个<strong>推协议</strong>，TCP连接由想要发送该文件的机器发起。即发送邮件服务器到接收邮件服务器</li>
<li>SMTP要求每个报文使用7比特ASCLL码形式。HTTP<strong>不受限制</strong></li>
<li>处理一个既包含文本又包含图形的文档，HTTP把<strong>每个对象</strong>封装到自己的<strong>HTTP响应报文</strong>中，SMTP则把所有的报文对象放在<strong>一个报文</strong>之中。</li>
</ol>
<p>邮件访问协议：取报文是一个拉操作，而SMTP为一个推协议，通过一个特殊的协议实现邮件服务器到用户代理。</p>
<ol>
<li>第三版的邮局协议：POP3 授权 (代理 &lt;–&gt;服务器) 并下载</li>
<li>因特网邮件访问协议：IMAP 更多特色 (更复杂) 操作存储在服务器上的报文</li>
</ol>
<h5 id="2-4-DNS域名系统"><a href="#2-4-DNS域名系统" class="headerlink" title="2.4 DNS域名系统"></a>2.4 DNS域名系统</h5><p>1.一个由分层的DNS服务器实现的分布式数据库。</p>
<p>2.一个使得主机能够查询分布式数据库的应用层协议。（DNS协议运行在UDP之上，使用53号端口）</p>
<p>DNS能够进行主机名(如localhost等)到IP地址(127.0.0.1)转换的目录服务。</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200913200420786.png" alt="image-20200913200420786" style="zoom:60%;" />

<p><strong>域名的解析过程</strong><br>主机向本地域名服务器的查询一般都是采用<strong>递归查询</strong>。<br>如果主机所询问的本地域名服务器不知道被查询域名的P地址，那么本地域名服务器就以DNS客户的身份，向其他<strong>根域名服务器</strong>继续发出查询请求报文。</p>
<p>本地域名服务器向根域名服务器的查询通常是采用<strong>迭代查询</strong>。<br>当根域名服务器收到本地域名服务器的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地域名服务器:“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询，这就叫迭代。</p>
<p><strong>DNS缓存</strong>：存放最近使用过的主机名和ip的映射，再次访问的时候就直接进行域名解析得到ip地址，一般只会保存两天</p>
<hr>
<h4 id="3-运输层"><a href="#3-运输层" class="headerlink" title="3.运输层"></a>3.运输层</h4><p>为运行在不同主机上的应用程序之间提供了<strong>逻辑通信功能</strong>，ip协议提供了主机之间的逻辑通信功能。</p>
<p>将运输层分组称为<strong>报文段</strong>。<strong>数据交付和差错检查</strong>是两种最低程度的运输层服务，也是UDP仅能提供的两种服务。</p>
<p>多路复用，多路分解。通过<strong>源端口号字段和目的端口号字段</strong>在套接字中进行标识</p>
<h5 id="3-1-UDP服务"><a href="#3-1-UDP服务" class="headerlink" title="3.1 UDP服务"></a><strong>3.1 UDP服务</strong></h5><p>UDP（User Datagram Protocol 用户数据报协议）是<strong>不可靠，无连接</strong>的(发送数据前不需要建立连接)，尽最大可能交付，没有拥塞控制，<strong>面向报文</strong>（对于应用程序传下来的报文不合并也不拆分，只是添加 UDP 首部，一次发送一个报文），支持一对一、一对多、多对一和多对多的交互通信，首部开销小(只有8个字节)。适用于高实时性的场合，比如电话，音视频播放等。</p>
<h5 id="3-1-2-TCP服务"><a href="#3-1-2-TCP服务" class="headerlink" title="3.1-2 TCP服务"></a><strong>3.1-2 TCP服务</strong></h5><p>传输控制协议：可靠，面向连接的服务，提供可靠交付，有流量控制，拥塞控制，提供全双工通信，面向字节流（把应用层传下来的报文看成字节流，把字节流组织成大小不等的数据块），每一条 TCP 连接只能是点对点的（一对一），连接的端点叫<strong>套接字</strong></p>
<p><strong>套接字socket(IP地址：端口号)    TCP连接=(socket1，socket2)</strong></p>
<p>面向连接的服务：<strong>三次握手</strong>，建立一个TCP连接，是在两个进程的套接字之间建立。这条连接是<strong>全双工</strong>的，即双方都可进行报文收发。结束传输之后，必须<strong>四次挥手</strong>断开连接。</p>
<p>一个点是双方都有发送接收<strong>缓存</strong>，应用程序是从缓存中写入数据，读取数据</p>
<p><a href="https://blog.csdn.net/qq_43977818/article/details/108577151" target="_blank" rel="noopener">三次握手/四次挥手的简要解析</a></p>
<p>TCP本身没有提供加密服务，现在主要依靠<strong>安全套接字层(SSL)</strong>提供安全保证，在应用层上进行实现，是一种对TCP的加强。</p>
<hr>
<h5 id="3-1可靠的数据传送服务"><a href="#3-1可靠的数据传送服务" class="headerlink" title="3-1可靠的数据传送服务"></a>3-1<strong>可靠的数据传送服务</strong></h5><p>其实书上关于这里的描述是最细致的，关于rdt1、2、3的演变，GBN或SR的选择，这一方面都很重要</p>
<p>进程依靠TCP，无差错，按适当的顺序交付所有传输的数据。具有<strong>自动重传请求协议</strong>，需要差错检测，接收方反馈，重传三种功能处理比特差错的情况。还有<strong>超时重传(但这个时间的设置是一个问题)</strong>，检测冗余(因为过早超时，进行了数据重发，接收方产生了数据冗余)。</p>
<p>接收方一般有累计确认机制</p>
<img src="/images/loading.gif" data-original="C:\Users\admin\AppData\Roaming\Typora\typora-user-images\image-20200915173418221.png" alt="image-20200915173418221" style="zoom:67%;" />



<hr>
<h5 id="3-2-TCP首部格式"><a href="#3-2-TCP首部格式" class="headerlink" title="3.2 TCP首部格式"></a><strong>3.2 TCP首部格式</strong></h5><img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/55dc4e84-573d-4c13-a765-52ed1dd251f9.png" width="700" style="zoom:60%;" />

<ul>
<li><strong>序号</strong>   ：用于对字节流进行编号，例如序号为 301，表示第一个字节的编号为 301，如果携带的数据长度为 100 字节，那么下一个报文段的序号应为 401。因为MTU（最大传输单元）的限制，TCP将数据报分成MSS（最大报文段长度）大小的字节流。</li>
<li><strong>确认号</strong>   ：期望收到的下一个报文段的<strong>序号</strong>。例如 B 正确收到 A 发送来的一个报文段，序号为 501，携带的数据长度为 200 字节，因此 B 期望下一个报文段的序号为 701，B 发送给 A 的确认报文段中确认号就为 701。</li>
<li><strong>数据偏移</strong>   ：指的是数据部分距离报文段起始处的偏移量，实际上指的是首部的长度。</li>
<li><strong>确认 ACK</strong>   ：当 ACK=1 时确认号字段有效，否则无效。TCP 规定，在连接建立后所有传送的报文段都必须把 ACK 置 1。</li>
<li><strong>同步 SYN</strong>   ：在连接建立时用来同步序号。当 SYN=1，ACK=0 时表示这是一个连接请求报文段。若对方同意建立连接，则响应报文中 SYN=1，ACK=1。</li>
<li><strong>终止 FIN</strong>   ：用来释放一个连接，当 FIN=1 时，表示此报文段的发送方的数据已发送完毕，并要求释放连接。</li>
<li><strong>窗口</strong>   ：窗口值作为接收方让发送方设置其发送窗口的依据。之所以要有这个限制，是因为接收方的数据缓存空间是有限的。</li>
<li><strong>选项</strong> ：规定了最大报文长度MSS，告诉对方TCP：“我的缓存所能接收的报文段的数据字段的最大长度是MSS个字节。”,与窗口用于流量控制，后面的填充十位了保证4字节对齐。</li>
</ul>
<hr>
<h5 id="3-3-TCP-的三次握手"><a href="#3-3-TCP-的三次握手" class="headerlink" title="3.3 TCP 的三次握手"></a>3.3 TCP 的三次握手</h5><img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e92d0ebc-7d46-413b-aec1-34a39602f787.png" width="600" style="zoom:75%;" />

<p>类比于：A:我要与你建立连接了，B:真的吗，A:是真的。</p>
<p>假设 A 为客户端，B 为服务器端。</p>
<ul>
<li><p>首先 B 处于 LISTEN（监听）状态，等待客户的连接请求。</p>
</li>
<li><p>A 向 B 发送连接请求报文，SYN=1，ACK=0，选择一个初始的序号 x。</p>
</li>
<li><p>B 收到连接请求报文，如果同意建立连接，则向 A 发送连接确认报文，SYN=1，ACK=1，确认号为 x+1，同时也选择一个初始的序号 y。</p>
</li>
<li><p>A 收到 B 的连接确认报文后，还要向 B 发出确认，确认号为 y+1，序号为 x+1。</p>
</li>
<li><p>B 收到 A 的确认后，连接建立。</p>
</li>
</ul>
<p><strong>三次握手的原因</strong>  </p>
<p>第三次握手是为了防止失效的连接请求到达服务器，让服务器错误打开连接。</p>
<p>客户端发送的连接请求如果在网络中滞留，那么就会隔很长一段时间才能收到服务器端发回的连接确认。客户端等待一个超时重传时间之后，就会重新请求连接。但是这个滞留的连接请求最后还是会到达服务器，如果不进行三次握手，那么服务器就会打开两个连接。如果有第三次握手，客户端会忽略服务器之后发送的对滞留连接请求的连接确认，不进行第三次握手，因此就不会再次打开连接。</p>
<hr>
<h5 id="3-4-TCP-的四次挥手"><a href="#3-4-TCP-的四次挥手" class="headerlink" title="3.4 TCP 的四次挥手"></a>3.4 TCP 的四次挥手</h5><img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/f87afe72-c2df-4c12-ac03-9b8d581a8af8.jpg" width="600" style="zoom:75%;" />

<p>类比于：A:我要与你断开连接了，B:好的，B:但我也要与你断开连接，A:好的</p>
<p>以下描述不讨论序号和确认号，因为序号和确认号的规则比较简单。并且不讨论 ACK，因为 ACK 在连接建立之后都为 1。</p>
<ul>
<li><p>A 发送连接释放报文，FIN=1。</p>
</li>
<li><p>B 收到之后发出确认，此时 TCP 属于半关闭状态，B 能向 A 发送数据但是 A 不能向 B 发送数据。</p>
</li>
<li><p>当 B 不再需要连接时，发送连接释放报文，FIN=1。</p>
</li>
<li><p>A 收到后发出确认，进入 TIME-WAIT 状态，等待 2 MSL（最大报文存活时间）后释放连接。</p>
</li>
<li><p>B 收到 A 的确认后释放连接。</p>
</li>
</ul>
<p><strong>四次挥手的原因</strong>  </p>
<p>这是因为服务端在LISTEN状态下，收到建立连接请求的SYN报文后，把ACK和SYN放在一个报文里发送给客户端。而关闭连接时，当收到对方的FIN报文时，仅仅表示对方不再发送数据了但是还能接收数据，己方也未必全部数据都发送给对方了，所以己方可以立即close，也可以发送一些数据给对方后，再发送FIN报文给对方来表示同意现在关闭连接，因此，己方ACK和FIN一般都会分开发送。</p>
<p><strong>TIME_WAIT</strong>  </p>
<p>客户端接收到服务器端的 FIN 报文后进入此状态，此时并不是直接进入 CLOSED 状态，还需要等待一个时间计时器设置的时间 2MSL。这么做有两个理由：</p>
<ul>
<li>确保最后一个确认报文能够到达。如果 B 没收到 A 发送来的确认报文，那么就会重新发送连接释放请求报文，A 等待一段时间就是为了处理这种情况的发生。</li>
<li>等待一段时间是为了让本连接持续时间内所产生的所有报文都从网络中消失，使得下一个新的连接不会出现旧的连接请求报文。</li>
</ul>
<hr>
<h5 id="3-5-流量控制"><a href="#3-5-流量控制" class="headerlink" title="3.5 流量控制"></a>3.5 流量控制</h5><p>流量控制是为了控制发送方发送速率，保证接收方来得及接收。因为可能接收方的接收缓存因为应用程序读取数据过慢，导致接收缓存溢出</p>
<p>接收方发送的确认报文中的窗口字段可以用来控制发送方窗口大小，从而影响发送方的发送速率。将窗口字段设置为 0，则发送方不能发送数据。可依靠传输中的滑动窗口进行流量控制。</p>
<hr>
<h5 id="3-6-拥塞控制"><a href="#3-6-拥塞控制" class="headerlink" title="3.6 拥塞控制"></a>3.6 拥塞控制</h5><p>如果网络出现拥塞，因为缓冲区溢出，分组将会丢失，此时发送方会继续重传，从而导致网络拥塞程度更高。因此当出现拥塞时，应当控制发送方的速率。这一点和流量控制很像，但是出发点不同。流量控制是为了让接收方能来得及接收，而拥塞控制是为了降低整个网络的拥塞程度。</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/51e2ed95-65b8-4ae9-8af3-65602d452a25.jpg" width="500" style="zoom: 67%;" />

<p>TCP 主要通过四个算法来进行拥塞控制：慢开始、拥塞避免、快重传、快恢复。</p>
<p>发送方需要维护一个叫做<strong>拥塞窗口</strong>（cwnd）的状态变量，注意拥塞窗口与发送方窗口的区别：拥塞窗口只是一个状态变量，实际决定发送方能发送多少数据的是发送方窗口。</p>
<p>TCP通过感知<strong>超时</strong>或者出现<strong>3次冗余ACK</strong>判断出现了拥塞，需要拥塞控制</p>
<p>为了便于讨论，做如下假设：</p>
<ul>
<li>接收方有足够大的接收缓存，因此不会发生流量控制；</li>
<li>虽然 TCP 的窗口基于字节，但是这里设窗口的大小单位为报文段<strong>MSS</strong>。</li>
</ul>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/910f613f-514f-4534-87dd-9b4699d59d31.png" width="800" style="zoom: 67%;" />

<h6 id="3-6-1-慢开始与拥塞避免"><a href="#3-6-1-慢开始与拥塞避免" class="headerlink" title="3.6.1  慢开始与拥塞避免"></a>3.6.1  慢开始与拥塞避免</h6><p>发送的最初执行慢开始，令 cwnd = 1，发送方只能发送 1 个报文段；当<strong>收到确认后</strong>，将 cwnd 加倍，因此之后发送方能够发送的报文段数量为：2、4、8 …</p>
<p>注意到慢开始每个轮次都将 cwnd 加倍，这样会让 cwnd 增长速度非常快，从而使得发送方发送的速度增长速度过快，网络拥塞的可能性也就更高。设置一个<strong>慢开始门限 ssthresh</strong>，<strong>当 cwnd &gt;= ssthresh 时，进入拥塞避免</strong>，之后每个轮次只将 cwnd 加 1。</p>
<p>如果出现了<strong>超时</strong>，则令 <strong>ssthresh = cwnd / 2</strong>，然后重新执行慢开始。</p>
<h6 id="3-6-2-快重传与快恢复"><a href="#3-6-2-快重传与快恢复" class="headerlink" title="3.6.2  快重传与快恢复"></a>3.6.2  快重传与快恢复</h6><p>在接收方，要求每次接收到报文段都应该对最后一个已收到的<strong>有序</strong>报文段进行确认。例如已经接收到 M<sub>1</sub> 和 M<sub>2</sub>，此时收到 M<sub>4</sub>，应当发送对 M<sub>2</sub> 的确认。</p>
<p>在发送方，如果<strong>收到三个重复确认ACK</strong>，那么可以知道下一个报文段丢失，此时执行快重传，立即重传下一个报文段。例如收到三个 M<sub>2</sub>，则 M<sub>3</sub> 丢失，立即重传 M<sub>3</sub>。</p>
<p>在这种情况下，只是丢失个别报文段，而不是网络拥塞。因此执行快恢复，令 ssthresh = cwnd / 2 ，cwnd = ssthresh，注意到此时直接进入拥塞避免。</p>
<p><strong>慢开始和快恢复的快慢指的是 cwnd 的设定值</strong>，而不是 cwnd 的增长速率。慢开始 cwnd 设定为 1，而快恢复 cwnd 设定为 ssthresh。</p>
<hr>
<h4 id="4-网络层"><a href="#4-网络层" class="headerlink" title="4.网络层"></a>4.网络层</h4><h5 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h5><p>网络层不保证数据报的交付，和按序交付，也不保证数据的完整性。IP协议提供了主机之间的逻辑通信功能。</p>
<p>数据平面：即是网络层中路由器的功能，决定到达网络层的<strong>数据报</strong>(网络层中的分组)如何转发到该路由器的输出链路之一，涉及<strong>IP转发和通用的转发</strong></p>
<p>控制平面：即网络范围的逻辑，控制数据报沿着源主机到目的主机的端到端的路径中路由器之间的路由方式，涉及<strong>路由选择算法，路由选择协议</strong></p>
<p>网络层的核心功能：<strong>转发</strong>（将分组从路由器的输入链路移到合适的输出链路的一个路由器本地动作，一般只有几纳秒，由硬件实现），<strong>路由选择</strong>（分组从发送方流向接收方，网络层必须决定这些分组所采取的路径或路由，称为路由选择算法，通常为几秒，由软件处理）<strong>匹配+动作</strong></p>
<p>路由器有个关键元素<strong>转发表</strong>，通过在里面查找索引进行转发，路由器由输入端口，交换结构，输出端口，路由选择处理器组成。</p>
<p>关于地址解析协议(ARP),将IP地址转换成MAC物理地址，我们放在链路层里面细讲。</p>
<h5 id="4-2-数据平面"><a href="#4-2-数据平面" class="headerlink" title="4.2 数据平面"></a>4.2 数据平面</h5><p><strong>IP转发</strong>：路由器的转发表结构</p>
<p><img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200915205940655.png" alt="image-20200915205940655" style="zoom:50%;" /><img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200915210414390.png" alt="image-20200915210414390" style="zoom:50%;" /></p>
<p>主机所在网络为目的地址的前缀，这么使用是为了简化转发表的大小。还有一些特定主机路由和默认路由(类似宿舍路由器)</p>
<p><strong>交换</strong>：经内存交换、经总线交换、经互联网络交换。</p>
<p><strong>排队</strong>：因为路由器的缓存有限，可能在输入端口和输出端口出现排队现象，当缓存满了之后，可能出现<strong>丢包</strong>，就是前面的分组丢失</p>
<p><strong>分组调度</strong>：确定次序，即排队的分组如何经链路传输的次序。先入先出、优先权排队、循环和加权公平排队。</p>
<hr>
<h5 id="4-2-2-IP协议"><a href="#4-2-2-IP协议" class="headerlink" title="4.2-2 IP协议"></a>4.2-2 IP协议</h5><p>数据报格式：</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/85c05fb1-5546-4c50-9221-21f231cdc8c5.jpg" width="700" style="zoom: 67%;" />



<ul>
<li><p><strong>版本</strong>   : 有 4（IPv4）和 6（IPv6）两个值；</p>
</li>
<li><p><strong>首部长度</strong>   : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为固定部分长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。</p>
</li>
<li><p><strong>区分服务</strong>   : 用来获得更好的服务，一般情况下不使用。</p>
</li>
<li><p><strong>总长度</strong>   : 包括首部长度和数据部分长度。不超过65535字节，但一般不会超过1500字节，必须不超过最大传送单元<strong>MTU（一个链路层能承载的最大数据量）</strong>。</p>
</li>
<li><p><strong>生存时间</strong>   ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。</p>
</li>
<li><p><strong>协议</strong>  ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。</p>
</li>
<li><p><strong>首部检验和</strong>  ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量，用于帮助路由器检测收到的IP数据报中的比特错误。</p>
</li>
<li><p><strong>标识</strong>   : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。</p>
</li>
<li><p><strong>片偏移</strong>   : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。</p>
</li>
</ul>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/23ba890e-e11c-45e2-a20c-64d217f83430.png" width="700" style="zoom:67%;" />

<hr>
<h5 id="4-2-3-IP-地址编址方式"><a href="#4-2-3-IP-地址编址方式" class="headerlink" title="4.2-3 IP 地址编址方式"></a>4.2-3 IP 地址编址方式</h5><p>IP 地址的编址方式经历了三个历史阶段：前两个为其他书的补充知识，只需了解</p>
<ul>
<li>分类</li>
<li>子网划分</li>
<li>无分类（主流）</li>
</ul>
<p><code>1. 分类</code></p>
<p>由两部分组成，网络号和主机号，其中不同分类具有不同的网络号长度，并且是固定的。</p>
<p>IP 地址 ::= {&lt; 网络号 &gt;, &lt; 主机号 &gt;}</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/cbf50eb8-22b4-4528-a2e7-d187143d57f7.png" width="500" style="zoom:77%;" />



<p> <code>2. 子网划分</code></p>
<p>通过在主机号字段中拿一部分作为子网号，把两级 IP 地址划分为三级 IP 地址。</p>
<p>IP 地址 ::= {&lt; 网络号 &gt;, &lt; 子网号 &gt;, &lt; 主机号 &gt;}</p>
<p>要使用子网，必须配置子网掩码。一个 B 类地址的默认子网掩码为 255.255.0.0，如果 B 类地址的子网占两个比特，那么子网掩码为 11111111 11111111 11000000 00000000，也就是 255.255.192.0。</p>
<p>注意，外部网络看不到子网的存在。</p>
<p><strong>子网定义</strong>：</p>
<p>1.无需通过路由器就能够物理上互相到达，在路由器同一侧（接入路由器同一接口），一般处于同一局域网</p>
<p>2.设备接口被配置的IP地址具有相同的网络地址（即共同的IP地址前缀）</p>
<p>3.IP地址 AND 子网掩码 = 网络地址 （与操作，注意是子网掩码）</p>
<p>子网的表示方法：</p>
<p>1、子网掩码(使用子网划分)：用从最高位开始的连续1表示IP地址中的子网号部分，后面为0的标识子网内的主机号 255.255.255.0</p>
<p>2、前缀/长度(使用无分类的IP编址)：223.1.1.0/24，表示前24位为前缀部分</p>
<img src="/images/loading.gif" data-original="https://gitee.com/cheng_song/picgo-img/raw/master/img/image-20200916085108569.png" alt="image-20200916085108569" style="zoom:67%;" />



<p><strong>3、无分类(目前主流)</strong></p>
<p>无分类编址 CIDR 消除了传统 A 类、B 类和 C 类地址以及划分子网的概念，<strong>使用网络前缀和主机号来对 IP 地址进行编码(变为两级编址)</strong>，网络前缀的长度可以根据需要变化。</p>
<p>IP 地址 ::= {&lt; 网络前缀号 &gt;, &lt; 主机号 &gt;}</p>
<p>CIDR 的记法上采用在 IP 地址后面加上网络前缀长度的方法，例如 128.14.35.7/20 表示前 20 位为网络前缀。</p>
<p>CIDR 的地址掩码可以继续称为<strong>掩码</strong>（不叫子网掩码），掩码的数字 1 的长度为网络前缀的长度，掩码全为 1。</p>
<p>一个 CIDR 地址块中有很多地址，一个 CIDR 表示的网络就可以表示原来的很多个网络，并且在路由表中只需要一个路由就可以代替原来的多个路由，减少了路由表项的数量。把这种通过使用网络前缀来减少路由表项的方式称为路由聚合，也称为   <strong>构成超网</strong>  </p>
<p>在路由表中的项目由“网络前缀”和“下一跳地址”组成，在查找时可能会得到不止一个匹配结果，应当采用<strong>最长前缀匹配</strong>来确定应该匹配哪一个。</p>
<p>动态主机配置协议(<strong>DHCP</strong>)：组织被分配了一块地址后，主机可以自动获取一个IP地址，而且能通过配置，给一个主机临时分配一个IP地址。</p>
<p><strong>通用转发</strong>：IP转发是一个查找目的IP地址，发送到特定端口的 <strong>匹配+动作</strong>；通用转发在每台分组交换机里包含一张匹配加动作表，该表由远程控制器计算和分发，实现与基于目的地址的转发类似的功能，还能丢弃，复制一个分组或重写第2,3,4层的首部。</p>
<p><strong>网络地址转换 NAT</strong></p>
<p>专用网内部的主机使用本地 IP 地址又想和互联网上的主机通信时，可以使用 NAT 来将本地 IP 转换为全球 IP。</p>
<p>在以前，NAT 将本地 IP 和全球 IP 一一对应，这种方式下拥有 n 个全球 IP 地址的专用网内最多只可以同时有 n 台主机接入互联网。为了更有效地利用全球 IP 地址，现在常用的 NAT 转换表把传输层的端口号也用上了，使得多个专用网内部的主机共用一个全球 IP 地址。使用端口号的 NAT 也叫做网络地址与端口转换 NAPT。</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/2719067e-b299-4639-9065-bed6729dbf0b.png" width=""/> 



<p><strong>IPv4与IPv6</strong></p>
<p>32比特的IP地址空间即将耗尽，应对大IP地址空间的要求，开发新的IP协议即IPv6</p>
<p>区别：</p>
<p>1.扩大地址容量 从32比特到128比特。</p>
<p>2.除单播和多播外加入任播地址。这种地址可以使数据报交付给一组主机中的任意一个</p>
<p>3.简单高效的40字节首部</p>
<p>4.留标签和优先级</p>
<p>5.IPV6不允许在中间路由器上进行分片组装，只能在源和目的地上进行</p>
<p>6.去除首部检验和</p>
<p>7.选项不再是标准IP首部一部分。</p>
<p>可通过建隧道的方式将IPV4迁移到IPV6</p>
<p><strong>地址解析协议 ARP</strong></p>
<p>网络层实现主机之间的通信，而链路层实现具体每段链路之间的通信。因此在通信过程中，IP 数据报的源地址和目的地址始终不变，而 MAC 地址随着链路的改变而改变。</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/66192382-558b-4b05-a35d-ac4a2b1a9811.jpg" width="700" style="zoom:67%;" />

<p>ARP 实现由 IP 地址得到 MAC 地址。</p>
<hr>
<h5 id="4-3-控制平面"><a href="#4-3-控制平面" class="headerlink" title="4.3 控制平面"></a>4.3 控制平面</h5><p><strong>构件控制平面的两大类方法</strong>：</p>
<p>传统的每路由器控制：每台路由器中运算算法，并且路由器中的路由选择组件与其他路由器的路由选择组件通信；</p>
<p>软件定义网络(SDN)控制：在一个逻辑上集合的控制器计算，并向每台路由器分发转发表为他们所用</p>
<hr>
<p><strong>路由选择算法</strong>：为了得到一条有最低开销的路径，可基于<strong>图</strong>进行最短路径选择</p>
<p>链路状态算法(LS)：Djikstra算法，最差情况下复杂性为O(N^2)，使用全局信息的算法</p>
<p>距离向量算法(DV)：Bellman-Ford方程，属一种迭代，异步，分布式的算法。<strong>当遇到路由选择环路的时候可能会产生无穷计数的问题</strong>。</p>
<hr>
<p>互联网可以划分为许多较小的<strong>自治系统 AS</strong>，一个 AS 可以使用一种和别的 AS 不同的路由选择协议。</p>
<p>可以把路由选择协议划分为两大类：</p>
<ul>
<li>自治系统内部的路由选择：RIP 和 OSPF</li>
<li>自治系统间的路由选择：BGP</li>
</ul>
<p><strong>1.内部网关协议 RIP</strong>（补充知识，）</p>
<p>RIP 是一种基于距离向量的路由选择协议。距离是指跳数，直接相连的路由器跳数为 1。跳数最多为 15，超过 15 表示不可达。</p>
<p>RIP 按固定的时间间隔仅和相邻路由器交换自己的路由表，经过若干次交换之后，所有路由器最终会知道到达本自治系统中任何一个网络的最短距离和下一跳路由器地址。</p>
<p>距离向量算法：</p>
<ul>
<li>对地址为 X 的相邻路由器发来的 RIP 报文,先修改报文中的所有项目,把下一跳字段中的地址改为 X，并把所有的距离字段加 1</li>
<li>对修改后的 RIP 报文中的每一个项目，进行以下步骤：<ul>
<li>若原来的路由表中没有目的网络 N，则把该项目添加到路由表中；</li>
<li>否则：若下一跳路由器地址是 X，则把收到的项目替换原来路由表中的项目；否则：若收到的项目中的距离 d 小于路由表中的距离，则进行更新（例如原始路由表项为 Net2, 5, P，新表项为 Net2, 4, X，则更新）；否则什么也不做。</li>
</ul>
</li>
<li>若 3 分钟还没有收到相邻路由器的更新路由表，则把该相邻路由器标为不可达，即把距离置为 16。</li>
</ul>
<p>RIP 协议实现简单，开销小。但是 RIP 能使用的最大距离为 15，限制了网络的规模。并且当网络出现故障时，要经过比较长的时间才能将此消息传送到所有路由器。</p>
<p><strong>2.内部网关协议 OSPF</strong></p>
<p>开放最短路径优先 OSPF，是为了克服 RIP 的缺点而开发出来的。</p>
<p>开放表示 OSPF 不受某一家厂商控制，而是公开发表的；最短路径优先表示使用了 Dijkstra 提出的最短路径算法 SPF。</p>
<p>且有安全，多条相同开销的路径，对单播和多播路由选择的综合支持，支持在单个AS中的层次结构的优点。</p>
<p>OSPF 具有以下特点：</p>
<ul>
<li>向本自治系统中的所有路由器发送信息，这种方法是洪泛法。</li>
<li>发送的信息就是与相邻路由器的链路状态，链路状态包括与哪些路由器相连以及链路的度量，度量用费用、距离、时延、带宽等来表示。</li>
<li>只有当链路状态发生变化时，路由器才会发送信息。</li>
</ul>
<p>所有路由器都具有全网的拓扑结构图，并且是一致的。相比于 RIP，OSPF 的更新过程收敛的很快。</p>
<p><strong>3.外部网关协议 BGP</strong>（极为重要，可与IP协议一比）</p>
<p>BGP（Border Gateway Protocol，边界网关协议），ISP之间的路由选择</p>
<p>AS 之间的路由选择很困难，主要是由于：</p>
<ul>
<li>互联网规模很大；</li>
<li>各个 AS 内部使用不同的路由选择协议，无法准确定义路径的度量；</li>
<li>AS 之间的路由选择必须考虑有关的策略，比如有些 AS 不愿意让其它 AS 经过。</li>
</ul>
<p>BGP 只能寻找一条比较好的路由，而不是最佳路由。</p>
<p>每个 AS 都必须配置 BGP 发言人，通过在两个相邻 BGP 发言人之间建立 TCP 连接来交换路由信息。</p>
<hr>
<p><strong>SDN控制平面</strong></p>
<p>具有4个特征：基于流的转发，数据平面和控制平面分离，网络控制功能：位于数据平面交换机外面，可编程的网络</p>
<p>ICMP（网际控制报文协议）：最典型的用途是差错报告，其体系结构位于IP之上，是承载在IP分组中的</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/e3124763-f75e-46c3-ba82-341e6c98d862.jpg" width="500"/>



<hr>
<h4 id="5-链路层"><a href="#5-链路层" class="headerlink" title="5.链路层"></a>5.链路层</h4><h5 id="5-1-概述"><a href="#5-1-概述" class="headerlink" title="5.1 概述"></a>5.1 概述</h5><p>沿着通信路径连接相邻节点的通信信道称为链路。有两种信道：广播信道(一对多 )、点对点通信链路</p>
<p><strong>数据链路层提供的服务：</strong></p>
<ul>
<li><p>成帧 （网络层数据报经链路传送前，链路层协议将其用链路层帧封装起来）<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/29a14735-e154-4f60-9a04-c9628e5d09f4.png" width="300"/></p>
</li>
<li><p>链路接入  （<strong>MAC</strong>协议规定了帧在链路传输的规则。链路的一段仅有一个发送方，另一端只有一个接收方的点对点链路）</p>
</li>
<li><p>可靠交付 （保证无差错地经链路层移动每个网络数据报）</p>
</li>
<li><p>差错检验和纠正  </p>
</li>
</ul>
<h5 id="5-2-差错检验与纠正"><a href="#5-2-差错检验与纠正" class="headerlink" title="5.2  差错检验与纠正"></a>5.2  差错检验与纠正</h5><p>奇偶校验：有单个奇偶校验位和二维奇偶校验（通过校验出错，比特值改变的行和列的索引，可以进行纠正）</p>
<p>检验和：将d比特数据看成k比特的整数的序列处理，将这k比特整数加起来当做校验和</p>
<p>循环冗余检测(CRC)编码(目前主流)：使用多项式算数进行操作</p>
<h5 id="5-3-多路访问协议"><a href="#5-3-多路访问协议" class="headerlink" title="5.3 多路访问协议"></a>5.3 多路访问协议</h5><p>主要是在广播链路中的多路访问问题的解决</p>
<p>划分为：信道划分协议，随机接入协议，轮流协议</p>
<p>理想的多路访问协议：<br>（1）当仅有一个节点发送数据时，该节点具有R bps的吞吐量；<br>（2）当有M个节点发送数据时，每个节点吞吐量为R/M bps；（每个节点在一定时间间隔内应有R/M的平均速率）<br>（3）协议是分散的；（不会因某个主节点故障而使整个系统崩溃）<br>（4）协议是简单的，实现不昂贵。</p>
<p>纯ALOHA（非时隙、高度分散）：<br>最大效率为 <strong>1/(2e)=0.185</strong>。</p>
<p>时隙ALOHA（高度分散的）：</p>
<ul>
<li>当只有一个节点时可以全速R连续传输；</li>
<li>一个给定节点传输的概率为p，节点成功传送的概率为 <strong>p(1-p)^(N-1)</strong>，N个节点任意一个发送成功的概率 <strong>Np(1-p)^(N-1)</strong>。（这个协议最大效率为 <strong>1/e=0.37</strong>，是纯ALOHA两倍）</li>
</ul>
<hr>
<h5 id="5-4-交换局域网"><a href="#5-4-交换局域网" class="headerlink" title="5.4 交换局域网"></a>5.4 交换局域网</h5><p>使用链路层地址而不是IP地址来转发链路层帧通过交换机</p>
<h5 id="5-4-2-链路层寻址和ARP"><a href="#5-4-2-链路层寻址和ARP" class="headerlink" title="5.4-2 链路层寻址和ARP"></a>5.4-2 链路层寻址和ARP</h5><p>1.链路层地址也称<strong>MAC</strong>地址</p>
<ul>
<li>不是主机或路由器具有链路层地址，而是它们的适配器（即网络接口）具有链路层地址。</li>
<li>MAC地址长度为6字节，共有2^48可能的MAC地址。</li>
<li>MAC地址通常被设计为永久。</li>
<li>MAC广播地址为 <strong>FF-FF-FF-FF-FF-FF</strong>。</li>
</ul>
<p>2.地址解析协议<strong>ARP</strong></p>
<p>网络层实现主机之间的通信，而链路层实现具体每段链路之间的通信。因此在通信过程中，<strong>IP 数据报的源地址和目的地址始终不变，而 MAC 地址随着链路的改变而改变。</strong></p>
<p>因为ARP包含链路层和分组层的地址，可能最认为ARP是跨越链路层和网络层的协议</p>
<ul>
<li>作用：将一个IP地址解析为一个MAC地址。</li>
<li>工作方式：每台主机和路由器在其内存中具有一个ARP表，这张表包含IP地址到MAC地址的映射关系。</li>
<li>ARP分组有四个字段：源IP、MAC，目的IP、MAC。</li>
<li>查询ARP报文在广播帧中发送，而响应ARP报文在一个标准帧中发送。</li>
<li>ARP表是自动建立的，不需要管理员配置。</li>
</ul>
<p>每个主机都有一个 ARP 高速缓存，里面有本局域网上的各主机和路由器的 IP 地址到 MAC 地址的映射表。</p>
<p>如果主机 A 知道主机 B 的 IP 地址，但是 ARP 高速缓存中没有该 IP 地址到 MAC 地址的映射，此时主机 A 通过广播的方式发送 ARP 请求分组，主机 B 收到该请求后会发送 ARP 响应分组给主机 A 告知其 MAC 地址，随后主机 A 向其高速缓存中写入主机 B 的 IP 地址到 MAC 地址的映射。</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/8006a450-6c2f-498c-a928-c927f758b1d0.png" width="700" style="zoom:50%;" />

<p>3.以太网</p>
<p>以太网是一种星型拓扑结构局域网</p>
<p>目前以太网使用交换机替代了集线器，交换机是一种链路层设备，它不会发生碰撞，能根据 MAC 地址进行存储转发。</p>
<p>以太网帧格式：最前面还有一个前同步码</p>
<ul>
<li><strong>类型</strong>  ：标记上层使用的协议；</li>
<li><strong>目的地址</strong>：目的适配器的MAC地址</li>
<li><strong>数据</strong>  ：承载IP数据报，长度在 46-1500 之间，如果太小则需要填充；</li>
<li><strong>FCS</strong>  ：帧检验序列，使用的是 CRC 检验方法；</li>
<li><strong>前同步码</strong>：8字节，前7个字节用来“唤醒”接收适配器，第8个字节是为了提醒有内容来了</li>
</ul>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/164944d3-bbd2-4bb2-924b-e62199c51b90.png" width="500"/>

<p>4.链路层交换机</p>
<p>交换机借助交换机表，实现过滤和转发。</p>
<p>交换机具有自学习能力，学习的是交换表的内容，交换表中存储着 MAC 地址到接口的映射。</p>
<p>正是由于这种自学习能力，因此交换机是一种即插即用设备，不需要网络管理员手动配置交换表内容。</p>
<p>下图中，交换机有 4 个接口，主机 A 向主机 B 发送数据帧时，交换机把主机 A 到接口 1 的映射写入交换表中。为了发送数据帧到 B，先查交换表，此时没有主机 B 的表项，那么主机 A 就发送广播帧，主机 C 和主机 D 会丢弃该帧，主机 B 回应该帧向主机 A 发送数据包时，交换机查找交换表得到主机 A 映射的接口为 1，就发送数据帧到接口 1，同时交换机添加主机 B 到接口 2 的映射。</p>
<img src="/images/loading.gif" data-original="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a4444545-0d68-4015-9a3d-19209dc436b3.png" width="800" style="zoom:67%;" />

<p>5.虚拟局域网</p>
<p>虚拟局域网可以建立与物理位置无关的逻辑组，只有在同一个虚拟局域网中的成员才会收到链路层广播信息。</p>
<p>使用 VLAN 干线连接来建立虚拟局域网，每台交换机上的一个特殊接口被设置为干线接口，以互连 VLAN 交换机。IEEE 定义了一种扩展的以太网帧格式 802.1Q，它在标准以太网帧上加进了 4 字节首部 VLAN 标签，用于表示该帧属于哪一个虚拟局域网。</p>
<h4 id="5-1-回顾web页面请求的历程"><a href="#5-1-回顾web页面请求的历程" class="headerlink" title="5-1 回顾web页面请求的历程"></a>5-1 回顾web页面请求的历程</h4><p>1.准备：DHCP,UDP,IP和以太网</p>
<p>2.仍在准备：DNS和ARP</p>
<p>3.仍在准备：域内路由选择到DNS服务器</p>
<p>4.web客户-服务器交互：TCP,HTTP</p>
<hr>
<h4 id="6-其他"><a href="#6-其他" class="headerlink" title="6.其他"></a>6.其他</h4><p>其实这本书后面还有无线网络与移动网络、网络中的安全、多媒体网络三章，但应该不学了，前面还有一些特定协议的算法没有去搞清楚，后面看能不能补上去。</p>
<p>后面还有一个我比较感兴趣的一个点：TCP的连接安全    SSL。还要记录一下</p>
<h5 id="1-SSL（安全套接字层）"><a href="#1-SSL（安全套接字层）" class="headerlink" title="1.SSL（安全套接字层）"></a>1.SSL（安全套接字层）</h5><p>SSL通过机密性、数据完整性、服务器鉴别和客户鉴别来强化TCP</p>
<h5 id="宏观描述"><a href="#宏观描述" class="headerlink" title="宏观描述"></a>宏观描述</h5><p><strong>1.握手</strong>：使用了非对称加密和对称加密，就速度而言，对称加密解密的速度更快。</p>
<p>1.客户与服务器建立TCP连接</p>
<p>2.验证服务器是真实正确的服务器，服务器会发送一个被某CA公证过的公钥。</p>
<p>3.客户发送给服务器一个主密钥（使用服务器的公钥加密），客户和服务器使用该主密钥生成SSL会话所需的所有对称密钥</p>
<p><strong>2.密钥导出</strong>：双方使用不同的密钥，为了更安全</p>
<p>会根据前面的主密钥生成4个密钥，两个加密密钥用来解密数据，两个MAC密钥用来验证数据的完整性，双方各两个</p>
<p><strong>3.数据传输</strong>：为了方便将MAC完整性检测传过去，<strong>其将数据分割成一个个记录</strong>，给每个记录附加一个MAC用于完整性检测，然后加密“记录+MAC”，进行传输</p>
<p><strong>4.SSL记录</strong>：</p>
<img src="/images/loading.gif" data-original="https://img-blog.csdn.net/20180523150500822?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NoaXBmc2hfc2g=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="img" style="zoom: 67%;" />

<p><strong>连接关闭</strong>：一个方法是直接TCP发送一个FIN报文进行关闭TCP连接而终止SSL会话，但有可能这个FIN是别人伪造，服务器接收数据不完整，所以ssl在类型字段中指出该记录手否用于终止SSL会话。</p>

            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">晟松</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://yoursite.com/2020/09/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/">http://yoursite.com/2020/09/10/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">晟松</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                                    <span class="chip bg-color">计算机网络</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2020/09/17/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="数据结构和算法">
                        
                        <span class="card-title">数据结构和算法</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            虽然之前上了一些关于数据结构、算法之类的课，但之前都没有怎么搞懂，尤其是算法里面的一些算法思想，现在看能不能补上，就是一些大佬的算法指导，刷LeetCode的一些题，回看之前的书上面的重点。
教材是清华大学出版社的数据结构(C语言版)、计算
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2020-09-17
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            晟松
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E7%AE%97%E6%B3%95/">
                        <span class="chip bg-color">算法</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2020/09/07/webpack%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/13.jpg" class="responsive-img" alt="webpack简单使用">
                        
                        <span class="card-title">webpack简单使用</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            就是在菜鸟的一个简单学习和使用，并没有深入
1.首先进行一个webpack的安装cnpm install webpack webpack-cli -g
打包使用
webpack filename -o targetname --mode=d
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2020-09-07
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            晟松
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/webpack/">
                        <span class="chip bg-color">webpack</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


<!-- 代码块折行 -->

<style type="text/css">
code[class*="language-"], pre[class*="language-"] { white-space: pre !important; }
</style>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="5073782181"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    
    <div class="container row center-align" style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            <span id="year">2020</span>
            <a href="/about" target="_blank">晟松</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
            
            
            
            <span id="busuanzi_container_site_pv">
                |&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;<span id="busuanzi_value_site_pv"
                    class="white-color"></span>&nbsp;次
            </span>
            
            
            <span id="busuanzi_container_site_uv">
                |&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;<span id="busuanzi_value_site_uv"
                    class="white-color"></span>&nbsp;人
            </span>
            
            <br>
            
            <br>
            
            <span id="icp"><img src="/medias/icp.png" style="vertical-align: text-bottom;" />
                <a href="http://www.beian.miit.gov.cn/" target="_blank">湘ICP备2020021729号</a>
            </span>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/chengsong-hunnu" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1659289050@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1659289050" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1659289050" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
$(function () {
    searchFunc("/search.xml", 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    <script type="text/javascript">
    //只在桌面版网页启用特效
    var windowWidth = $(window).width();
    if (windowWidth > 768) {
        document.write('<script type="text/javascript" src="/js/sakura.js"><\/script>');
    }
    </script>

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

<script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(n){n.imageLazyLoadSetting.processImages=o;var i=n.imageLazyLoadSetting.isSPA,r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){i&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,e,a=0;a<r.length;a++)t=r[a],e=void 0,0<=(e=t.getBoundingClientRect()).bottom&&0<=e.left&&e.top<=(n.innerHeight||document.documentElement.clientHeight)&&function(){var t,e,n,i,o=r[a];t=o,e=function(){r=r.filter(function(t){return o!==t})},n=new Image,i=t.getAttribute("data-original"),n.onload=function(){t.src=i,e&&e()},n.src=i}()}o(),n.addEventListener("scroll",function(){var t,e;t=o,e=n,clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this);</script></body>

</html>
